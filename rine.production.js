!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).rine=e()}}(function(){return function u(i,f,c){function l(n,e){if(!f[n]){if(!i[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(a)return a(n,!0);var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}var o=f[n]={exports:{}};i[n][0].call(o.exports,function(e){return l(i[n][1][e]||e)},o,o.exports,u,i,f,c)}return f[n].exports}for(var a="function"==typeof require&&require,e=0;e<c.length;e++)l(c[e]);return l}({1:[function(o,e,u){(function(e){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.default=function(e,n){var t=n.broadcast,r=!1,i=[],o=void 0,u=void 0,f=y();function c(o,n){var e=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],u=[];i=i.filter(function(e){var n=e.type,t=e.done,r=e.once;return n!==o||(u.push(t),!r)}),u.forEach(function(e){return e(n)}),e&&t(o,n,f)}function l(n,e){if(!e)return new Promise(function(e){i.push({type:n,done:function(){r&&e.apply(void 0,arguments)},once:!0})});i.push({type:n,done:e,once:!0})}function a(e,n){i.push({type:e,done:n,once:!1})}function d(){return r}return{id:f,name:(0,p.getFuncName)(e),in:function(n,t){return r=!0,u=function(e){r&&n(s.default.createElement(o,e))},e({render:function(e){o="function"==typeof e?e:function(){return e},u(t)},take:l,takeEvery:a,put:c,isMounted:d})},update:function(e){u(e)},out:function(){r=!1,i=[]},put:c,system:function(){return{mounted:r,pending:i}}}};var n,t="undefined"!=typeof window?window.React:void 0!==e?e.React:null,s=(n=t)&&n.__esModule?n:{default:n},p=o("./utils");var r=0,y=function(){return"r"+ ++r}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./utils":3}],2:[function(t,e,r){(function(e){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.System=void 0;var u=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},a=function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,n){var t=[],r=!0,o=!1,u=void 0;try{for(var i,f=e[Symbol.iterator]();!(r=(i=f.next()).done)&&(t.push(i.value),!n||t.length!==n);r=!0);}catch(e){o=!0,u=e}finally{try{!r&&f.return&&f.return()}finally{if(o)throw u}}return t}(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")};r.routine=f,r.partial=function(t,e){var r=function(){},o=e,n=f(function(e){var n=e.render;return(r=function(){return n(function(e){return i.default.createElement(t,u({},e,o))})})()});return n.displayName="RinePartial("+(0,p.getFuncName)(t)+")",n.set=function(e){o=e,r()},n.get=function(){return o},n};var d="undefined"!=typeof window?window.React:void 0!==e?e.React:null,i=n(d),s=n(t("./RoutineController")),p=t("./utils");function n(e){return e&&e.__esModule?e:{default:e}}var y=r.System={controllers:{},addController:function(e){this.controllers[e.id]=e},removeController:function(e){delete this.controllers[e.id]},put:function(n,t,r){var o=this;Object.keys(this.controllers).forEach(function(e){e!==r&&o.controllers[e].put(n,t,!1)})},debug:function(){var t=this,e=Object.keys(this.controllers).reduce(function(e,n){return e=e.concat(t.controllers[n].system().pending)},[]);return{controllers:this.controllers,pending:e}}};function f(l){function e(n){var e=(0,d.useState)(null),t=a(e,2),r=t[0],o=t[1],u=(0,d.useState)(null),i=a(u,2),f=i[0],c=i[1];return(0,d.useEffect)(function(){f&&f.update(n)},[n]),(0,d.useEffect)(function(){c(f=(0,s.default)(l,{broadcast:function(){y.put.apply(y,arguments)}})),y.addController(f);var e=f.in(o,n);return!e||(0,p.isPromise)(e)||(0,p.isGenerator)(e)||o(e),function(){f.out(),y.removeController(f)}},[]),r}return e.displayName="Rine("+(0,p.getFuncName)(l)+")",e}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./RoutineController":1,"./utils":3}],3:[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.isGenerator=function(e){return e&&"function"==typeof e.next},t.isPromise=function(e){return e&&"function"==typeof e.then},t.getFuncName=function(e){if(e.name)return e.name;var n=/^function\s+([\w\$]+)\s*\(/.exec(e.toString());return n?n[1]:"unknown"}},{}]},{},[2])(2)});